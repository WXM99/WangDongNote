# 信息系统开发例说

## 1. 基于实践，编写开发计划

### 典型信息系统
- 站在欠缺经验的开发者角度考虑
    - 规划系统、建立计划、Use Case、ER、DFD 一直到系统实现，逐步勾画
    - 之后再改进，到系统化、软件工程化层面讨论

### 如何编制好的计划
1. 这是什么项目
2. 如何分解系统
3. 如何安排好项目进度、人员、资金
4. 如何考虑知识产权问题

- 基于实践
    - 脚踏实地，规范明确的文档

### 这是什么项目

以酒店为例

- 了解酒店背景
    - Negative - 脱离实际、空泛虚无
    - Positive - 各种数据实体
        - e.g. 
            - 部门、员工、客房分类及数量、楼层层数、客房分布
- 系统目标
    - Negative - 脱离实际、空泛虚无
        - e.g.
            - “优秀的”、“先进的”、“稳定的”
            - “等功能”、“等特点”
    - Positive - 具体功能
        - e.g.
            - 预定、接待、退房、账单

- 酒店组织架构图
    - 图标规范
    - 展开均衡
    - 颜色合适
    - 辅以表格、文字等
- 业务流程
    - 流程图中，除了业务本身，最好包括相应人/数据对象
    - 适当忽略细节功能
- 系统硬件网络环境
    - 全局性布局，抓住重点
    - 与业务相关的部分

### 如何分解系统

- 把系统分成几个子系统
    - 粒度应均衡
    - <b>有时甚至需要业务过程再造</b>
        - 引入信息系统后业务流程可能改变
        - <b>让业务适应信息系统，而不是信息系统适应落后的业务</b>
- 明确子系统功能
    - 详细定义、说明
- 确定软硬件配置
    - 多方协商。不仅仅是软件工程师
    - 预算

### 如何安排好项目计划

- 时间：软件过程模型
    - 根据实际选用
    - 传统 瀑布模型、旋转模型、原型模型等
        - 大型项目应采用瀑布模型，做好需求分析、系统建模、软件设计，而不着急编码
    - 现代 XP模型、SCRUM模型
        - 规模较小，快速开发
    - 实际项目开发中中，可以在分析阶段使用原型设计开发，明确系统需求；编程阶段，结合使用 xp，成对编程等方式，保证质量；测试维护阶段，不断根据用户反馈，螺旋式更新改进
    - Main Idea
        - 使用专业软件工具制作进度计划表
            - 信息工程主要思想方法： <b>利用工具，将方法至于工具之中，用工具帮助和控制人的工作</b>
        - 使用表格而不是文字
        - 时间使用周为单位‘
        - 根据每个项目具体情况，设计、描述进度计划
- 资金：为测试、维护留有余地，-40-20-40原则
    - 工作量分配：前期 40%，中期 20%，后期 40%
    - 后期工作量、难度相当大
        - 测试、运维等
    - 根据时间、人员、工作内容计划，给出有说服力的资金预算
- 人员：人件与风险管理
    - 针对软件人员
        - 舒适的环境
            - 进取的气氛、开心的心境、创造的欲望
        - 风险意识
            - Deadline 控制
                - 微软等采用区间式 Deadline
    - 有备无患（防止人员流动等）
        - 重要岗位后备
            - 程序员 测试员 交换；项目经理配备助手
        - 规范文档记录

### 如何考虑知识产权问题
- 不仅仅是正版盗版软件问题
- 甲方责任与义务
- 乙方延期的处罚
- 谁拥有该系统
    - 规定好比如：甲方 30%，乙方 70%；使用权；违规赔偿等
    - <b>不因合同双方发生收购、兼并、重组、分立而发生变化</b>

### 如何编号系统开发计划书
- 整洁明确的封面，涉及的系统与内容、文档版本、作者、小组成员、单位、联系方式、编制日期
- 文档版本记录表，记录版本变化历史
- 文档控制页
    - 多方签字认可
- 图表、缩写语索引

## 2. 观察实践，分析需求

大型系统开发需要瀑布型过程模型，工程化方法和管理

### 需求分析
1. 宏观上把握系统
    - 把握系统要做什么
        - 功能图
        - 系统Use Case
2. 微观上确立概念
    - 建立系统概念模型
        - E-R图
        - 类图
        - 数据字典
3. 流程上明确需求
    - 勾画数据流、控制流、对象之间的相互关系
        - DFD图
        - 对象交互图
        - IPO图

### 从宏观把握系统 - Use Case

- 适用于宏观场景描述，表达角色与软件之间的交互关系，不适合描述程序流程。
- 从用户角度观察系统需求，不适合表述系统分解模型

1. 前后绘图的业务、功能的完整性应保持一致
2. 概念名称应保持一致
    - e.g. 餐娱消费
3. 动词+名词 详细描述业务，而不是仅仅一个名词
    - e.g. 查询 -> 查询账单
- 软件工程开发思考原则：<b>前后一贯，左顾右盼</b>
4. 不应该引入 登录 等控制流、软件过程
5. 相同工具绘制

### 从微观明确概念 - 系统概念模型
- 考虑、定义每一个概念与数据
- 根据概念模型到处对象类、数据库表
1. ER图
    - 有哪些概念、它们相互之间的关系
    1. 同一个 ER图中，粒度应保持一致
        - 部门 ER图中就只出现部门，不需要出现 客人等细粒度概念实体
    2. 前后一贯，左顾右盼
2. 概念定义 - 数据表
    - 每个概念包含哪些数据
    - 数据的具体定义
    1. 前后一贯
        - 客人 客户；客房 房间
    2. 完整性 不能遗漏
    3. 每个数据项都要展开、定义
3. 概念定义 - 数据字典
    - 类型
    - 前后一致
    1. 所有概念、数据定义汇总在字典后，并排序
        - 按英文名称
        - 按中文名称
        - 按编号

### 从流程明确需求 - DFD IPO
DFD 数据流动视角，动态模型；ER 静态模型
- 数据层面，不能代表控制流
- 软件系统以控制流控制的代码来实现数据流的处理
1. DFD
    - DFD 需要自顶向下不断细化，底层数据流可以很细
    - 箭头表示数据流，应该用名词命名
2. IPO
    - Input -> Process -> Output
    - 根据此来设计测试用例

## 3. 深入实践，建立 UML 模型
- 多视角分析
    - E-R，DFD等分析系统需求
    - 面向对象

### 面向对象
- 把软件要处理的客观世界中的物件提炼出来
- 多态、封装、继承

### 哪些是本系统的对象 - 静态 Class 图
- E-R 图是很好的参照
    - 实体基本上对应对象
    - 实体间的关系基本上就是对象类之间的关系

#### 系统 Class 图
- 聚合组成
- 继承
    - 子类若无独立属性、行为，则没有必要存在
- 关联

#### 系统 GUI 类图
- 设计基本上要与 Use Case 和子系统功能分布对应
- 左顾右盼，前后一致

## 如何用对象实现系统 - 动态 Sequence 图

描述相应行为属于哪个对象、对象与行为之间如何交互

- 如果序列图中，某个对象没有被使用过，说明是不需要的
- 泳道上出现的操作一定属于这个对象
- <b>一张序列图描述一个 Use Case</b>

### 如何编好系统需求规范说明书 - SRS

前面形成的开发计划书是SRS重要前导文件， SRS 必须 根据计划书中的基本要求和宏观架构进一步细化分析数据 模型、面向对象模型

- 计划书与SRS保持一致

## 4. 围绕实践，设计系统架构与部件

### 4.1 如何考虑系统架构
每个架构之间不一定矛盾

- 以数据为中心的体系架构
    - 信息管理系统基本都是这个
- 分层体系架构
- 三层体系架构
- 调用/返回体系架构 
- 面向对象体系架构：总线式体系架构 

#### 4.1.1 以数据为中心的体系架构
- 以数据为中心的体系架构主要针对以数据库为基础的软件系统
    - 大量数据的保存、检索是系统的基本要求

#### 4.1.2 分层体系架构
- 分层体系架构是从软件之间的相互依赖关系出发来观察、 描述软件之间的架构
    - 如一般软件系统的核心是操作系统 ，然后是数据库等支撑系统，外层是各种语言的应用软件 系统。

#### 4.1.3 三层体系(C/S, B/S)架构
- 基于网络的发展，现在的软件都需要在网络上运行，因此又时常以三层体系架构的形式出现 如 Client/Server. Browser/Server 架构 

#### 4.1.4 调用/返回体系架构
- 调用/返回( Call and Return )体系是传统的面向过程方 法对软件架构的基本认识，认为软件是由一个个过程(子 程序)组成的，软件的架构主要是主程序调用子程序、上 级程序调用下级程序、被调用程序将运行结果返回给调 用程序，这样所形成的一种层次休系 

#### 4.1.5 面向对象体系架构
- 实现对象交互的一种有效的 架构形式是通过对象请求代理( Object Request Broker )机制，仿佛在对象之间构筑一条消息“ 总线”， CORBA、 DCOM、 EJB 都是这种架构的体现
- 以 Web 后端为例，自己在做程序设计时思想还是面向过程，但是 Controller，Service 那一套分层体系实际上属于面向对象。Controller 实际就是 ORB 的总线式请求代理。

### 4.2 如何组织对象部件——Package 图

与软件工程导论相同

### 4.3 如何设计对象部件

包中的各个对象类，最终要通过部件设计去实现。部件( 或称组件)是实现对 象类的软件模块单位

一个对象类需要一个对应的实现部件， 一个 部件也可以包括几个相关的对象类 

- Class 类图
    - 面向对象
    - 只不过方法应该用伪代码或其他方式实现
    - 按照面向对象方法，预订登记、预订更改、预订删除都 是"预订"对象类中的操作，

- Activity 活动图
    - 面向过程
    - 完全用过程设计的思路来实现“预订”模块的所 有功能，包括预订登记、预订更改、预订删除，所以就有了 预订方式选择等分支
    -  以过程为单位组织软件模块，没有任何的对象复 用、封装等，当其他软件要利用其中的某些操作时，非 常不方便

- State 状态图
    - 主要描述某个对象或者系统内部，由于外 部事件和软件行为而引起的状态迁移 

- Swimlane 泳道图
    - 将对象交互与对象内部操作过程结合 在一起描述，既有对象交互的外部视角，也有对象操作过 程的内部视角

## 总结
本讲实例基本上是按照瀑布型模型组织过程和文档的，因此在每个阶段都全 面展开对每个子 系统的分析设计

如果开发过程和文档按照渐增方式或者螺旋方式组织实施，效果又会怎样? 

# 信息系统顶层设计
## 顶层设计
顶层设计是运用系统论的方法，从全局的角度，对某项任务或者某个 项目的各方面、各层次、各要素统筹规划，以集中有效资源，高效快 捷地实现目标 

- 特征
    - 顶层决定性
    - 整体关联性
    - 实际可操作性

- 顶层设计技术分类解析
    - 需求开发
        - 通过规范的需求描述形式对需求开发的内容进行组织，使决策人员 、系统设计人员能迅速从描述中提取需求，便于系统开发团队内部 的沟通和需求追溯 
        - 过程
            - 需求获取
            - 需求描述
            - 需求分析
            - 需求验证需求
        - 文档形式
        - 三种主流需求描述方法
            - UML
                - Use Case
                - 静态图
                    - 类图
                        - 对象图
                    - 包图
                - 行为图
                    - 状态图
                    - 活动图
                    - 时序图
            - IDEF
            - 视图
        - 四种需求分析方法
            - 基于场景的需求分析方法
            - 基于目标的需求分析方法
            - 基于威胁的需求分析方法
            - 基于能力的需求分析方法

    - 体系结构设计
        - 从总体上把握系统的结构，确定系统 与外界环境之间及系统内各组成部分之间的接口、通信和信息交换 关系，而不涉及系统设计的细节
        - 体系结构工具以计算机软件的方式，在体系结构建模方法 的基础上提供体系结构信息的标识和维护能力，通过可定 制的用户界面，向用户提供体系结构设计、描述和验证的 支撑功能，自动维护体系结构设计中的大量信息，减少设 计人员的工作量，提高体系结构开发效
        - 顶层设计的核心支撑技术，为顶层设计提供直接的设计手段和方法 

    - 信息资源规划 （******）
        - <b>James Martin 信息工程方法论</b>
            - 信息系统以数据为中心
            - 数据结构稳定，处理多变
            - 用户必须参加开发工作


    - 技术体制论证
        - 分别从数据和技术两个方面提供细化设计的方法 
    - 顶层设计验证
        - 为顶层设计的成果提供正确性、完备性和一致性等验证能力，为其它技术 提供支撑

## James Martin 信息工程方法论
- 基本原理
    - 数据位于现代数据处理的中心
    - 数据是稳定的，处理是多变的
    - 用户必须真正参加开发工作
- 基本方法
    - 企业模型
    - 主题数据库
    - 实体活动分析
    - 数据分布规划
- 时代价值
    - 云计算
    - 大数据

## 信息工程与信息资源管理的关系
- 

# 画图
- 图标使用
    - 有区分度
    - 保持一致
- 前后名称一致
- 功能业务前后完整性保持一致
    - 否则导致需求丢失
- ER 图中箭头表示的信息是否正确
    - 继承、聚合组成、关联
- 子类是否有必要
- 箭头是否需要命名
    - DFD 箭头表示数据流，需要有名字
- 粒度保持一致
    - 同一个 ER 图下，粒度应相同，如部门 ER 图中不应出现客户等实体
- 命名具体，有区分度
    - “查询”，查询什么？ -> “查询账单”
- Use Case 不应包含控制流（如登陆）、子系统划分
- 一个序列图描述一个 Use Case

- 判断题
- 选择题
    - 会算
- 论述题
    - 信息系统基本方法
    - 第二章：
    - James Martin  002 看书
        - 实体关系图 - 蚯蚓图
            - 结构化实体图
                - 分类，分成几大类实体图
        
    - CU 矩阵
        - 分解若干子系统

    - 威廉德雷尔信息系统理论
- 计算题
    - 抹布计算？？ 铅笔

- ERP 等缩写要记住！